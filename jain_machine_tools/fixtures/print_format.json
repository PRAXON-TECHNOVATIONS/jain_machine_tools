[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/* =====================================================\n   RESET\n   ===================================================== */\n* {\n    box-sizing: border-box;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n}\n\n/* =====================================================\n   PAGE SETUP (MINIMAL & STABLE)\n   ===================================================== */\n@page {\n    margin: 0.2in;\n}\n\n/* =====================================================\n   FIXED HEADER & FOOTER\n   ===================================================== */\n.letter-head {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 168px; /* header image height */\n    z-index: 100;\n}\n\n.print-footer {\n    position: fixed;\n    bottom: -3.5px;\n    left: 0;\n    right: 0;\n    height: 60px; /* footer image height */\n    z-index: 100;\n    background: white;\n}\n\n/* =====================================================\n   CONTENT FLOW CONTROL\n   ===================================================== */\n.print-format {\n    font-family: Arial, sans-serif;\n    font-size: 10pt;\n    line-height: 1.3;\n}\n\n/* Title section */\n.invoice-title {\n    color: black;\n    text-align: center;\n    padding: 6px;\n    font-size: 14pt;\n    font-weight: bold;\n    border: 1px solid #000;\n    margin-top: 168px;\n}\n\n/* Details section */\n.details-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    border-bottom: 2px solid #000;\n}\n\n.detail-box {\n    border-right: 1px solid #000;\n    padding: 8px;\n    font-size: 8pt;\n}\n\n.detail-box:last-child {\n    padding: 0;\n}\n\n.detail-box:first-child {\n    border-left: 1px solid #000;\n}\n\n.detail-title {\n    font-weight: bold;\n    font-size: 9pt;\n    margin-bottom: 6px;\n}\n\n.detail-row {\n    display: flex;\n    margin-bottom: 3px;\n}\n\n.detail-label {\n    min-width: 90px;\n    font-weight: normal;\n}\n\n.detail-value {\n    flex: 1;\n}\n\n/* Invoice details table */\n.invoice-details-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.invoice-details-table td {\n    padding: 3px 0;\n    font-size: 8pt;\n}\n\n.invoice-details-table tr {\n    border-bottom: 1px solid #000;\n}\n\n.invoice-details-table tr:last-child {\n    border-bottom: none;\n}\n\n.invoice-label {\n    font-weight: normal;\n    width: 110px;\n    border-right: 1px solid #000;\n}\n\n.invoice-value {\n    font-weight: normal;\n}\n\n/* Items table */\n\n.items-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.items-table th,\n.items-table td {\n    border: 1px solid #000;\n    padding: 4px;\n    font-size: 8pt;\n    text-align: left;\n}\n\n.items-table th {\n    background: #f0f0f0;\n    font-weight: bold;\n    text-align: center;\n}\n\n.items-table td {\n    vertical-align: top;\n}\n\n.text-center {\n    text-align: center !important;\n}\n\n.text-right {\n    text-align: right !important;\n}\n\n/* Transport and totals section */\n.bottom-section {\n    display: flex;\n    border-bottom: 1px solid #000;\n}\n\n.transport-details {\n    flex: 1;\n    padding: 8px;\n    border-left: 1px solid #000;\n    font-size: 8pt;\n}\n\n.totals-section {\n    width: 200px;\n}\n\n.totals-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.totals-table td {\n    border: 1px solid #000;\n    padding: 4px 8px;\n    font-size: 8pt;\n}\n\n.totals-table tr:first-child td {\n    border-top: none !important;\n}\n\n.totals-table tr:last-child td {\n    border-bottom: none !important;\n}\n\n.total-row {\n    font-weight: bold;\n    background: #f0f0f0;\n}\n\n/* Amount in words */\n.amount-words {\n    padding: 6px 8px;\n    font-size: 8pt;\n    border-bottom: 1px solid #000;\n    border-left: 1px solid #000;\n    border-right: 1px solid #000;\n}\n\n/* Terms and bank details */\n.footer-section {\n    display: flex;\n    border: 1px solid #000;\n}\n\n.bank-details {\n    flex: 1;\n    padding: 5px;\n    font-size: 8pt;\n    border-right: 1px solid #000;\n}\n\n.signature-section {\n    width: 220px;\n    padding: 8px;\n    text-align: center;\n}\n\n.signature-box {\n    margin-top: 40px;\n    padding-top: 8px;\n    border-top: 1px solid #000;\n}\n\n.company-footer {\n    font-weight: bold;\n    font-size: 9pt;\n    margin-bottom: 20px;\n}\n\n/* Small text */\n.small-text {\n    border-right: 1px solid #000;\n    border-left: 1px solid #000;\n    font-size: 7pt;\n    line-height: 1.3;\n}\n\n.bold {\n    font-weight: bold;\n}\n\n/* Page break handling */\n@media print {\n    .print-format {\n        height: 100vh;\n    }\n    \n    .items-table {\n        page-break-inside: auto;\n    }\n    \n    .items-table tr {\n        page-break-inside: avoid;\n        page-break-after: auto;\n    }\n}\n\n@page {\n    margin: 0.2in;\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Sales Invoice",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 9,
  "format_data": null,
  "html": "{% set item_count = doc.items|length %}\n{% set first_page_rows = 26 %}\n{% set subsequent_page_rows = 9 %}\n{% set single_page_rows = 9 %}\n\n{% macro render_header() %}\n  <!-- Letterhead will be inserted here by ERPNext -->\n  {% if letter_head and not no_letterhead %}\n    <div class=\"letter-head\">{{ letter_head }}</div>\n  {% endif %}\n\n  <!-- TAX INVOICE Title -->\n  <div class=\"invoice-title\">TAX INVOICE</div>\n\n  <!-- Billing, Consignee, and Invoice Details -->\n  <div class=\"details-grid\">\n    <!-- Billing Details -->\n    <div class=\"detail-box\">\n      <div class=\"detail-title\">BILLING DETAILS</div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Company Name:</span>\n        <span class=\"detail-value\">{{ doc.company or \"\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Address:</span>\n        <span class=\"detail-value\"></span>\n      </div>\n        {% if doc.company_address %}\n            <div>\n            {% set addr = frappe.get_doc(\"Address\", doc.company_address) %}\n            {{ addr.address_line1 or \"\" }} , \n            {% if addr.address_line2 %}{{ addr.address_line2 }} , {% endif %}\n            {{ addr.city or \"\" }} , \n            {{ addr.state or \"\" }}{% if addr.pincode %} - {{ addr.pincode }}{% endif %}<br/>\n            </div>\n        {% endif %}\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Contact Person:</span>\n        <span class=\"detail-value\">{{ doc.company_contact_person or \"NIL\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Contact No:</span>\n        <span class=\"detail-value\">{{ doc.contact_mobile or \"\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">GST:</span>\n        <span class=\"detail-value\">{{ doc.company_gstin or \"\" }}</span>\n      </div>\n    </div>\n\n    <!-- Consignee Details -->\n    <div class=\"detail-box\">\n      <div class=\"detail-title\">CONSIGNEE DETAILS</div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Name:</span>\n        <span class=\"detail-value\">{{ doc.customer or \"\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Address:</span>\n        <span class=\"detail-value\"></span>\n      </div>\n      {% if doc.customer_address %}\n            <div>\n            {% set addr = frappe.get_doc(\"Address\", doc.customer_address) %}\n            {{ addr.address_line1 or \"\" }} , \n            {% if addr.address_line2 %}{{ addr.address_line2 }} , {% endif %}\n            {{ addr.city or \"\" }} , \n            {{ addr.state or \"\" }}{% if addr.pincode %} - {{ addr.pincode }}{% endif %}<br/>\n            </div>\n        {% endif %}\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Contact Person:</span>\n        <span class=\"detail-value\">{{ doc.contact_display or \"\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">Contact No:</span>\n        <span class=\"detail-value\">{{ doc.contact_mobile or \"\" }}</span>\n      </div>\n      <div class=\"detail-row\">\n        <span class=\"detail-label bold\">GST:</span>\n        <span class=\"detail-value\">{{ doc.customer_gstin or \"\" }}</span>\n      </div>\n    </div>\n\n    <!-- Invoice Details -->\n    <div class=\"detail-box\">\n        {% set so_name = doc.items[0].sales_order if doc.items and doc.items[0].sales_order else None %}\n        {% set so_doc = frappe.get_doc(\"Sales Order\", so_name) if so_name else None %}\n      <table class=\"invoice-details-table\">\n        <tr>\n          <td class=\"invoice-label bold\">Invoice No:</td>\n          <td class=\"invoice-value\">{{ doc.name }}</td>\n        </tr>\n        <tr>\n          <td class=\"invoice-label bold\">Invoice Date:</td>\n          <td class=\"invoice-value\">{{ frappe.utils.formatdate(doc.posting_date, 'dd-MMM-yyyy') }}</td>\n        </tr>\n        <tr>\n          <td class=\"invoice-label bold\">PO No:</td>\n          <td>{{ so_doc.po_no if so_doc and so_doc.po_no else \"\" }}</td>\n        </tr>\n        <tr>\n          <td class=\"invoice-label bold\">PO Date:</td>\n          <td>\n            {{ frappe.utils.formatdate(so_doc.transaction_date, 'dd-MMM-yyyy')\n               if so_doc and so_doc.po_no and so_doc.transaction_date else \"\" }}\n          </td>\n        </tr>\n        <tr>\n          <td class=\"invoice-label bold\">Payment Due Date:</td>\n          <td class=\"invoice-value\">{{ frappe.utils.formatdate(doc.due_date, 'dd-MMM-yyyy') }}</td>\n        </tr>\n        <tr>\n          <td class=\"invoice-label bold\">Dispatch type:</td>\n          <td class=\"invoice-value\">{{ doc.tc_name or \" \" }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n  <!-- TAX INVOICE DETAILS Title -->\n  <div style=\"text-align: center; padding: 4px; border-left: 1px solid #000; border-right: 1px solid #000; font-weight: bold; background: #f0f0f0;\">TAX INVOICE DETAILS</div>\n{% endmacro %}\n\n{% macro render_footer() %}\n  <!-- Transport Details and Totals -->\n  <div class=\"bottom-section\">\n    <div class=\"transport-details\">\n      {% if doc.irn %}\n      <div class=\"bold\" style=\"margin-bottom: 6px;\">E-Invoice Details:</div>\n      <div><span class=\"bold\">IRN:</span> {{ doc.irn or \"\" }}</div>\n      <div><span class=\"bold\">QR Code Ack No:</span> {{ doc.ack_no or \"\" }}</div>\n      <div><span class=\"bold\">Ack Dt:</span> {{ doc.get_formatted(\"ack_date\") if doc.ack_date else \"\" }}</div>\n      {% endif %}\n      \n      <div class=\"bold\" style=\"margin-bottom: 4px;\">Dispatch Details:</div>\n      <div><span class=\"bold\">Dispatch From:</span> {{ doc.dispatch_address_name or \"\" }}</div>\n        {% if doc.dispatch_address_name %}\n            <div>\n            {% set addr = frappe.get_doc(\"Address\", doc.dispatch_address_name) %}\n            {{ addr.address_line1 or \"\" }} , \n            {% if addr.address_line2 %}{{ addr.address_line2 }} , {% endif %}\n            {{ addr.city or \"\" }} , \n            {{ addr.state or \"\" }}{% if addr.pincode %} - {{ addr.pincode }}{% endif %}<br/>\n            </div>\n        {% endif %}\n        {% if doc.irn %}\n          <div><span class=\"bold\">E-way Bill Name:</span></div>\n          <div><span class=\"bold\">Freight:</span></div>\n          <div><span class=\"bold\">E-way Bill No:</span></div>\n          <div><span class=\"bold\">LR No:</span></div>\n        {% endif %}\n      <div><span class=\"bold\">Remarks : </div>\n      <div>{{ doc.remarks or \" \" }}</div>\n    </div>\n\n    <div class=\"totals-section\">\n        {% set cgst_rate = doc.cgst_rate or (doc.items | map(attribute='cgst_rate') | max) or 0 %}\n        {% set sgst_rate = doc.sgst_rate or (doc.items | map(attribute='sgst_rate') | max) or 0 %}\n        {% set igst_rate = doc.igst_rate or (doc.items | map(attribute='igst_rate') | max) or 0 %}\n        \n        {% set total_cgst = doc.cgst or doc.items | sum(attribute='cgst_amount') or 0 %}\n        {% set total_sgst = doc.sgst or doc.items | sum(attribute='sgst_amount') or 0 %}\n        {% set total_igst = doc.igst or doc.items | sum(attribute='igst_amount') or 0 %}\n        \n        {% set is_igst = total_igst > 0 %}\n      <table class=\"totals-table\">\n        <tr>\n          <td>Subtotal</td>\n          <td class=\"text-right\">{{ frappe.format(doc.total,{\"fieldtype\":\"Currency\",\"options\":doc.currency}) or \"\" }}</td>\n        </tr>\n        {% if not is_igst %}\n        <tr>\n            <td>\n                CGST ({{ cgst_rate }}%)\n            </td>\n            <td class=\"text-right\">\n                {% if total_cgst > 0 %}\n                    {{ frappe.format(total_cgst, {\"fieldtype\": \"Currency\", \"options\": doc.currency}) }}\n                {% else %}\n                    <!-- Ya zero chahiye toh yeh likh sakte ho: 0 -->\n                {% endif %}\n            </td>\n        </tr>\n        \n        <tr>\n            <td>\n                SGST ({{ sgst_rate }}%)\n            </td>\n            <td class=\"text-right\">\n                {% if total_sgst > 0 %}\n                    {{ frappe.format(total_sgst, {\"fieldtype\": \"Currency\", \"options\": doc.currency}) }}\n                {% else %}\n                    <!-- Ya zero chahiye toh yeh likh sakte ho: 0 -->\n                {% endif %}\n            </td>\n        </tr>\n        \n        {% else %}\n        <tr>\n            <td>\n                IGST ({{ igst_rate }}%)\n            </td>\n            <td class=\"text-right\">\n                {% if total_igst > 0 %}\n                    {{ frappe.format(total_igst, {\"fieldtype\": \"Currency\", \"options\": doc.currency}) }}\n                {% else %}\n                    <!-- Ya zero chahiye toh yeh likh sakte ho: 0 -->\n                {% endif %}\n            </td>\n        </tr>\n        {% endif %}\n        <tr>\n            {% set ns = namespace(disc_amt=0, disc_pct=0) %}\n        \n            {% for i in doc.items %}\n                {% if i.discount_percentage and i.price_list_rate %}\n                    {% set ns.disc_amt = ns.disc_amt +\n                        ((i.price_list_rate * i.discount_percentage / 100) * i.qty)\n                    %}\n                    {% set ns.disc_pct = ns.disc_pct + i.discount_percentage %}\n                {% endif %}\n            {% endfor %}\n        \n            <td>\n                \n                    Discount\n                    {% if ns.disc_pct %}\n                        ({{ ns.disc_pct }}%)\n                    {% endif %}\n                \n            </td>\n        \n            <td class=\"text-right\">\n                {{ frappe.format(\n                    ns.disc_amt,\n                    {\"fieldtype\":\"Currency\",\"options\":doc.currency}\n                ) }}\n            </td>\n        </tr>\n          <td>Round Off</td>\n          <td class=\"text-right\">{{ frappe.format(doc.rounding_adjustment or 0, {\"fieldtype\":\"Currency\",\"options\":doc.currency}) }}</td>\n        </tr>\n        <tr class=\"total-row\">\n          <td>Total Amt</td>\n          <td class=\"text-right\">{{ frappe.format(doc.grand_total or 0, {\"fieldtype\":\"Currency\",\"options\":doc.currency}) }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n\n  <!-- Amount in Words -->\n  <div class=\"amount-words\">\n    <span class=\"bold\">Total in Words:</span> {{ frappe.utils.money_in_words(doc.grand_total, doc.currency) }}\n  </div>\n\n  <!-- Terms and Conditions -->\n  <div class=\"small-text\" style=\"padding: 4px; min-height: 24px\">{{ doc.terms or \" \" }}</div>\n\n  <!-- Bank Details and Signature -->\n  <div class=\"footer-section\">\n    <div class=\"bank-details\">\n      {% set company_dets = frappe.get_doc(\"Company\", doc.company) %}\n      <div><strong>GSTIN :-</strong> <span>{{ company_dets.gstin or \" \" }}</span></div>\n      <div><strong>PAN No . </strong> <span>{{ company_dets.pan or \" \" }}</span></div>\n      <div><strong>BANK DETAILS</strong></div>\n      {% set bank_dets = frappe.get_list(\"Bank Account\" , filters={\"company\": doc.company}, fields=\"name\") %}\n      {% set bank_detailed_record = frappe.get_doc(\"Bank Account\" , bank_dets[0].name) %}\n      <div><strong>BANK NAME :- </strong><span>{{ bank_detailed_record.bank }}</span></div>\n      <div><strong>ACCOUNT NO :-</strong> {{ bank_detailed_record.bank_account_no }}</div>\n      <div><strong>Bank Branch :-</strong> {{ bank_detailed_record.branch_code }}</div>\n      <div><strong>IFSC/NEFT IFSC CODE :-</strong> {{ bank_detailed_record.ifsc_code or \"BARB0MULUND\" }}</div>\n      <div style=\"margin-top: 8px;\"><span class=\"bold\">RTGS/NEFT:-</span> Please treat the 5th article as number '0' ie RTGS code.</div>\n    </div>\n\n    <div class=\"signature-section\">\n      <div class=\"company-footer\">For, JAIN MACHINE TOOLS & ELECTRICALS</div>\n      <div class=\"signature-box\">\n        AUTHORIZED SIGNATORY\n      </div>\n    </div>\n  </div>\n  <!-- Footer  -->\n    {% if footer and not no_letterhead %}\n        <div class=\"print-footer\">\n          {{ footer }}\n        </div>\n    {% endif %}\n{% endmacro %}\n\n<div class=\"print-format\">\n{% if item_count <= 9 %}\n  {# Single page layout - 9 items or less, show 9 rows with footer #}\n  {{ render_header() }}\n\n  <!-- Items Table -->\n  <div class=\"items-section\">\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 30px;\">SR</th>\n          <th style=\"width: 350px;\">Description</th>\n          <th style=\"width: 40px;\">HSN Code</th>\n          <th style=\"width: 70px;\">Unit Rate</th>\n          <th style=\"width: 30px;\">Qty</th>\n          <th style=\"width: 100px;\">Net Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for i in range(single_page_rows) %}\n          {% if i < item_count %}\n            {% set d = doc.items[i] %}\n            <tr>\n              <td class=\"text-center\">{{ i + 1 }}</td>\n              <td>{{ d.item_name or \"\" }}</td>\n              <td class=\"text-center\">{{ d.gst_hsn_code or \"\" }}</td>\n              <td class=\"text-center\">{{ \"%.2f\"|format(d.rate or 0) }}</td>\n              <td class=\"text-center\">{{ d.qty or 0 }}</td>\n              <td class=\"text-center\">{{ \"%.2f\"|format(d.amount or 0) }}</td>\n            </tr>\n          {% else %}\n            <tr>\n              <td class=\"text-center\">{{ i + 1 }}</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n            </tr>\n          {% endif %}\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  {{ render_footer() }}\n\n{% else %}\n  {# Multi-page layout - more than 9 items #}\n\n  {# First Page - 26 rows, no footer #}\n  {{ render_header() }}\n\n  <div class=\"items-section\">\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 30px;\">SR</th>\n          <th style=\"width: 350px;\">Description</th>\n          <th style=\"width: 40px;\">HSN Code</th>\n          <th style=\"width: 70px;\">Unit Rate</th>\n          <th style=\"width: 30px;\">Qty</th>\n          <th style=\"width: 100px;\">Net Amount</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% for i in range(first_page_rows) %}\n          {% if i < item_count %}\n            {% set d = doc.items[i] %}\n            <tr>\n              <td class=\"text-center\">{{ i + 1 }}</td>\n              <td>{{ d.item_name or \"\" }}</td>\n              <td class=\"text-center\">{{ d.gst_hsn_code or \"\" }}</td>\n              <td class=\"text-center\">{{ \"%.2f\"|format(d.rate or 0) }}</td>\n              <td class=\"text-center\">{{ d.qty or 0 }}</td>\n              <td class=\"text-center\">{{ \"%.2f\"|format(d.amount or 0) }}</td>\n            </tr>\n          {% endif %}\n        {% endfor %}\n      </tbody>\n    </table>\n  </div>\n\n  {# Calculate remaining items and how many subsequent pages needed #}\n  {# When items > 8, we always need at least 1 subsequent page for the footer #}\n  {% set remaining_items = item_count - first_page_rows %}\n  {% if remaining_items > 0 %}\n    {# Items overflow beyond first page - calculate how many subsequent pages for overflow items #}\n    {% set num_subsequent_pages = ((remaining_items - 1) // subsequent_page_rows) + 1 %}\n  {% else %}\n    {# All items fit in first page but still need 1 subsequent page for footer #}\n    {% set num_subsequent_pages = 1 %}\n  {% endif %}\n\n  {# Subsequent Pages - 8 rows each with header and footer #}\n  {% for page_num in range(num_subsequent_pages) %}\n    <div style=\"page-break-before: always;\"></div>\n\n    {{ render_header() }}\n\n    <div class=\"items-section\">\n      <table class=\"items-table\">\n        <thead>\n          <tr>\n          <th style=\"width: 30px;\">SR</th>\n          <th style=\"width: 350px;\">Description</th>\n          <th style=\"width: 40px;\">HSN Code</th>\n          <th style=\"width: 70px;\">Unit Rate</th>\n          <th style=\"width: 30px;\">Qty</th>\n          <th style=\"width: 100px;\">Net Amount</th>\n          </tr>\n        </thead>\n        <tbody>\n          {% for i in range(subsequent_page_rows) %}\n            {% set item_idx = first_page_rows + (page_num * subsequent_page_rows) + i %}\n            {% if item_idx < item_count %}\n              {% set d = doc.items[item_idx] %}\n              <tr>\n                <td class=\"text-center\">{{ item_idx + 1 }}</td>\n                <td>{{ d.item_name or \"\" }}</td>\n                <td class=\"text-center\">{{ d.gst_hsn_code or \"\" }}</td>\n                <td class=\"text-right\">{{ \"%.2f\"|format(d.rate or 0) }}</td>\n                <td class=\"text-center\">{{ d.qty or 0 }}</td>\n                <td class=\"text-right\">{{ \"%.2f\"|format(d.amount or 0) }}</td>\n              </tr>\n            {% else %}\n              <tr>\n                <td class=\"text-center\">{{ item_idx + 1 }}</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n                <td>&nbsp;</td>\n              </tr>\n            {% endif %}\n          {% endfor %}\n        </tbody>\n      </table>\n    </div>\n\n    {{ render_footer() }}\n  {% endfor %}\n{% endif %}\n</div>",
  "line_breaks": 0,
  "margin_bottom": 10.0,
  "margin_left": 10.0,
  "margin_right": 10.0,
  "margin_top": 10.0,
  "modified": "2026-01-07 12:26:50.825086",
  "module": "Jain Machine Tools",
  "name": "Custom Sales Invoice Format",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/* =====================================================\n   RESET\n   ===================================================== */\n* {\n    box-sizing: border-box;\n}\n\nbody {\n    margin: 0;\n    padding: 0;\n}\n\n/* =====================================================\n   PAGE SETUP (MINIMAL & STABLE)\n   ===================================================== */\n@page {\n    margin: 0.2in;\n}\n\n/* =====================================================\n   FIXED HEADER & FOOTER\n   ===================================================== */\n.letter-head {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 70px; /* header image height */\n    z-index: 100;\n    background: white;\n}\n\n.print-footer {\n    position: fixed;\n    bottom: -6px;\n    left: 0;\n    right: 0;\n    height: 60px; /* footer image height */\n    z-index: 100;\n    background: white;\n}\n\n/* =====================================================\n   CONTENT FLOW CONTROL\n   ===================================================== */\n.print-format {\n    font-family: Arial, sans-serif;\n    font-size: 10pt;\n    line-height: 1.3;\n    margin-bottom: 70px; /* footer space */\n}\n\n/* Header spacer keeps layout deterministic */\n.header-spacer {\n    height: 85px; /* header height + breathing room */\n}\n\n/* =====================================================\n   MAIN CONTAINER\n   ===================================================== */\n.stock-transfer-container {\n    margin-top: 80px;\n}\n\n/* =====================================================\n   TITLE\n   ===================================================== */\n.stock-transfer-title {\n    text-align: center;\n    padding: 8px;\n    font-size: 16pt;\n    font-weight: bold;\n    background: #f0f0f0;\n    border-bottom: 1px solid #000;\n    border-left: 1px solid #000;\n    border-right: 1px solid #000;\n}\n\n/* =====================================================\n   BRANCH / INFO\n   ===================================================== */\n.branch-info-section {\n    display: grid;\n    grid-template-columns: 33% 33% 34%;\n    border-bottom: 2px solid #000;\n    height: 116px !important;\n}\n\n.branch-box {\n    padding: 6px;\n    border-right: 1px solid #000;\n}\n\n.branch-box:first-child {\n    border-left: 1px solid #000;\n}\n\n.branch-label {\n    font-weight: bold;\n    font-size: 11pt;\n    margin-bottom: 4px;\n}\n\n.branch-value {\n    font-size: 10pt;\n    min-height: 40px;\n}\n\n.info-row {\n    display: flex;\n    margin-bottom: 6px;\n}\n\n.info-label {\n    font-weight: bold;\n    min-width: 130px;\n}\n\n.info-value {\n    flex: 1;\n}\n\n/* =====================================================\n   ITEMS TABLE\n   ===================================================== */\n.items-title {\n    text-align: center;\n    padding: 6px;\n    font-weight: bold;\n    background: #f0f0f0;\n    border-bottom: 1px solid #000;\n    border-left: 1px solid #000;\n    border-right: 1px solid #000;\n}\n\n.items-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n.items-table th,\n.items-table td {\n    border: 1px solid #000;\n    padding: 6px;\n    font-size: 9pt;\n}\n\n.items-table th {\n    background: #f0f0f0;\n    text-align: center;\n}\n\n.items-table td {\n    vertical-align: top;\n}\n\n.text-center {\n    text-align: center !important;\n}\n\n/* =====================================================\n   PRINT PAGE BREAK SAFETY\n   ===================================================== */\n@media print {\n    .items-table {\n        page-break-inside: auto;\n    }\n\n    .items-table tr {\n        page-break-inside: avoid;\n    }\n\n    .items-table thead {\n        display: table-header-group;\n    }\n}\n",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Stock Entry",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 10,
  "format_data": null,
  "html": "<div class=\"print-format\">\n\n  {% if letter_head and not no_letterhead %}\n    <div class=\"letter-head\">\n      {{ letter_head }}\n    </div>\n  {% endif %}\n\n  <!-- Spacer to reserve header height -->\n  <div class=\"header-spacer\"></div>\n\n  <div class=\"stock-transfer-container\">\n\n    <div class=\"stock-transfer-title\">\n      Stock Transfer\n    </div>\n\n    <div class=\"branch-info-section\">\n\n      <!-- FROM BRANCH -->\n      <div class=\"branch-box\">\n        <div class=\"branch-label\">FROM BRANCH</div>\n        <div class=\"branch-value\">\n          {{ doc.from_warehouse or \"\" }}\n\n          {% set from_wh = frappe.get_doc(\"Warehouse\", doc.from_warehouse) if doc.from_warehouse else None %}\n\n          {% if from_wh %}\n            {% if from_wh.address_line_1 or from_wh.address_line_2 %}\n              <br>\n              {{ from_wh.address_line_1 or \"\" }}{% if from_wh.address_line_1 and from_wh.address_line_2 %}, {% endif %}{{ from_wh.address_line_2 or \"\" }}\n            {% endif %}\n\n            {% if from_wh.city or from_wh.state or from_wh.pin %}\n              <br>\n              {{ from_wh.city or \"\" }}{% if from_wh.city and from_wh.state %}, {% endif %}\n              {{ from_wh.state or \"\" }}{% if from_wh.pin %} - {{ from_wh.pin }}{% endif %}\n            {% endif %}\n          {% endif %}\n        </div>\n      </div>\n\n      <!-- TO BRANCH -->\n      <div class=\"branch-box\">\n        <div class=\"branch-label\">TO BRANCH</div>\n        <div class=\"branch-value\">\n          {{ doc.to_warehouse or \"\" }}\n\n          {% set to_wh = frappe.get_doc(\"Warehouse\", doc.to_warehouse) if doc.to_warehouse else None %}\n\n          {% if to_wh %}\n            {% if to_wh.address_line_1 or to_wh.address_line_2 %}\n              <br>\n              {{ to_wh.address_line_1 or \"\" }}{% if to_wh.address_line_1 and to_wh.address_line_2 %}, {% endif %}{{ to_wh.address_line_2 or \"\" }}\n            {% endif %}\n\n            {% if to_wh.city or to_wh.state or to_wh.pin %}\n              <br>\n              {{ to_wh.city or \"\" }}{% if to_wh.city and to_wh.state %}, {% endif %}\n              {{ to_wh.state or \"\" }}{% if to_wh.pin %} - {{ to_wh.pin }}{% endif %}\n            {% endif %}\n          {% endif %}\n        </div>\n      </div>\n\n      <!-- DATE / DOC INFO -->\n      <div class=\"branch-box\">\n        <div class=\"info-row\">\n          <span class=\"info-label\">Date:</span>\n          <span class=\"info-value\">{{ doc.get_formatted(\"posting_date\") }}</span>\n        </div>\n        <div class=\"info-row\">\n          <span class=\"info-label\">Stock Transfer No:</span>\n          <span class=\"info-value\">{{ doc.name }}</span>\n        </div>\n      </div>\n\n    </div>\n\n    <div class=\"items-title\">\n      Stock Transfer Details\n    </div>\n\n    <table class=\"items-table\">\n      <thead>\n        <tr>\n          <th style=\"width: 40px;\">Sr No</th>\n          <th>Description</th>\n          <th style=\"width: 80px;\">QTY</th>\n          <th style=\"width: 80px;\">Unit</th>\n        </tr>\n      </thead>\n      <tbody>\n        {% set min_rows = 22 %}\n        {% set item_count = doc.items|length %}\n        {% set total_rows = min_rows if item_count < min_rows else item_count %}\n\n        {% for i in range(total_rows) %}\n          {% if i < item_count %}\n            {% set d = doc.items[i] %}\n            <tr>\n              <td class=\"text-center\">{{ loop.index }}</td>\n              <td>{{ d.item_name or d.item_code or \"\" }}</td>\n              <td class=\"text-center\">{{ d.qty or 0 }}</td>\n              <td class=\"text-center\">{{ d.uom or \"\" }}</td>\n            </tr>\n          {% else %}\n            <tr>\n              <td class=\"text-center\">{{ loop.index }}</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n              <td>&nbsp;</td>\n            </tr>\n          {% endif %}\n        {% endfor %}\n      </tbody>\n    </table>\n\n  </div>\n\n  {% if footer and not no_letterhead %}\n    <div class=\"print-footer\">\n      {{ footer }}\n    </div>\n  {% endif %}\n\n</div>\n",
  "line_breaks": 0,
  "margin_bottom": 10.0,
  "margin_left": 10.0,
  "margin_right": 10.0,
  "margin_top": 10.0,
  "modified": "2026-01-04 12:55:39.230923",
  "module": "Jain Machine Tools",
  "name": "Custom Stock Tranfer Print Format",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "/* Barcode Print Format Styles */\n@page {\n  size: A4 portrait;\n  margin: 8mm;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: 'Arial', 'Helvetica', sans-serif;\n  margin: 0;\n  padding: 0;\n}\n\n.barcode-page {\n  width: 100%;\n  page-break-after: always;\n  page-break-inside: avoid;\n}\n\n.barcode-page:last-child {\n  page-break-after: avoid;\n}\n\n.barcode-grid {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-content: flex-start;\n  width: 100%;\n  gap: 8mm;\n}\n\n.barcode-item {\n  width: calc(50% - 4mm);\n  border: 2px solid #333;\n  border-radius: 4px;\n  padding: 8mm 6mm;\n  text-align: center;\n  background: #ffffff;\n  min-height: 60mm;\n  max-height: 65mm;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n  page-break-inside: avoid;\n}\n\n.barcode-wrapper {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3mm 0;\n  background: #fff;\n  min-height: 35mm;\n}\n\n.barcode-wrapper img {\n  max-width: 95%;\n  height: auto;\n  display: block;\n}\n\n.item-info {\n  width: 100%;\n  border-top: 1px solid #e0e0e0;\n  padding-top: 3mm;\n  margin-top: 2mm;\n}\n\n.serial-no {\n  font-size: 11pt;\n  font-weight: bold;\n  color: #000;\n  word-break: break-all;\n  line-height: 1.3;\n  margin-bottom: 2mm;\n  letter-spacing: 0.3px;\n}\n\n.item-code {\n  font-size: 8pt;\n  color: #555;\n  font-weight: normal;\n  margin-top: 1mm;\n}\n\n.empty-placeholder {\n  border: 2px dashed #ccc;\n  background: #f9f9f9;\n  color: #999;\n  font-size: 9pt;\n  font-style: italic;\n}\n\n@media print {\n  .barcode-page {\n    page-break-after: always;\n    page-break-inside: avoid;\n  }\n\n  .barcode-page:last-child {\n    page-break-after: avoid;\n  }\n\n  .barcode-item {\n    page-break-inside: avoid;\n  }\n}",
  "custom_format": 1,
  "default_print_language": "en",
  "disabled": 0,
  "doc_type": "Barcode Printing",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "{% set items = doc.table_hjbk %}\n{% set total_items = items|length %}\n{% set items_per_page = 10 %}\n{% set total_pages = ((total_items - 1) // items_per_page) + 1 if total_items > 0 else 1 %}\n\n{% for page_num in range(total_pages) %}\n  <div class=\"barcode-page\">\n    <div class=\"barcode-grid\">\n      {% set start_idx = page_num * items_per_page %}\n      {% set end_idx = start_idx + items_per_page %}\n      \n      {% for i in range(start_idx, end_idx) %}\n        {% if i < total_items %}\n          {% set item = items[i] %}\n          <div class=\"barcode-item\">\n            <div class=\"barcode-wrapper\">\n              {% set barcode_img = get_barcode_image(item.serial_no or \"NO-SERIAL\") %}\n              {% if barcode_img %}\n                <img src=\"{{ barcode_img }}\" alt=\"{{ item.serial_no }}\" />\n              {% else %}\n                <div style=\"padding: 15px; background: #f8f8f8; border: 1px solid #ddd; border-radius: 3px; font-size: 9pt;\">\n                  Barcode Generation Failed\n                </div>\n              {% endif %}\n            </div>\n            \n            <div class=\"item-info\">\n              <div class=\"serial-no\">{{ item.serial_no or \"NO-SERIAL\" }}</div>\n              {% if item.item_code %}\n                <div class=\"item-code\">{{ item.item_code }}</div>\n              {% endif %}\n            </div>\n          </div>\n        {% else %}\n          <div class=\"barcode-item empty-placeholder\">\n            <div style=\"display: flex; align-items: center; justify-content: center; height: 100%;\">\n              <span>-</span>\n            </div>\n          </div>\n        {% endif %}\n      {% endfor %}\n    </div>\n  </div>\n{% endfor %}",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2025-12-16 21:47:13.610025",
  "module": "Jain Machine Tools",
  "name": "Serial No Barcode Format",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 }
]